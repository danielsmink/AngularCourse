"use strict";angular.module("waitstaff",["ngRoute","ngAnimate"]).constant("VERSION","1.2").run(["VERSION","$location","$timeout","$rootScope","$templateCache",function(e,a,t,n,r){n.version=e,n.$on("$viewContentLoaded",function(){r.removeAll()}),n.$on("$routeChangeError",function(){a.path("/error")}),n.$on("$routeChangeStart",function(){n.isLoading=!0}),n.$on("$routeChangeSuccess",function(){t(function(){n.isLoading=!1},1e3)})}]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"./js/waitstaff/home.html"}).when("/new-meal",{templateUrl:"./js/waitstaff-meal/new-meal.html"}).when("/my-earnings",{templateUrl:"./js/waitstaff-earnings/my-earnings.html"}).when("/error",{template:"<p>Error Page Not Found</p>"}).otherwise({redirectTo:"/error"})}]),angular.module("waitstaff").directive("smartFloat",function(){return{require:"ngModel",link:function(e,a,t,n){var r=/^\-?\d+((\.|\,)\d+)?$/;n.$parsers.unshift(function(e){return r.test(e)?(n.$setValidity("float",!0),parseFloat(e.replace(",","."))):void n.$setValidity("float",!1)})}}}),angular.module("waitstaff").service("WaitstaffSvc",function(){this.earnings={tipTotal:0,mealCount:0,avgTip:0},this.getEarnings=function(){return this.earnings},this.updateEarnings=function(e){this.earnings.tipTotal=this.earnings.tipTotal+e.chargeTip,this.earnings.mealCount++,this.earnings.avgTip=this.earnings.tipTotal/this.earnings.mealCount},this.resetEarnings=function(){this.earnings={tipTotal:0,mealCount:0,avgTip:0}}}),angular.module("waitstaff").controller("earningsController",["$scope","WaitstaffSvc",function(e,a){e.earnings=a.getEarnings(),e.resetApp=function(){a.resetEarnings(),e.earnings=a.getEarnings()}}]),angular.module("waitstaff").controller("waitstaffController",["$scope","WaitstaffSvc",function(e,a){e.errorMessage=!1,e.formValid=!1,e.meal={chargeSubtotal:0,chargeTip:0,chargeTotal:0},e.validate=function(){console.log(e.mealForm.$error),e.mealForm.$valid?(e.meal.chargeSubtotal=e.meal.baseprice*(1+e.meal.taxrate/100),e.meal.chargeTip=e.meal.chargeSubtotal*(e.meal.tippercentage/100),e.meal.chargeTotal=e.meal.chargeSubtotal+e.meal.chargeTip,a.updateEarnings(e.meal),e.meal.baseprice=null,e.meal.taxrate=null,e.meal.tippercentage=null):e.errorMessage="Please fill in all the fields"},e.cancelMeal=function(){e.formValid=!1,e.errorMessage=!1,e.meal.baseprice=null,e.meal.taxrate=null,e.meal.tippercentage=null}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJhcHAuanMiLCJkaXJlY3RpdmVzL2RpcmVjdGl2ZXMuanMiLCJ3YWl0c3RhZmYvd2FpdHN0YWZmLnN2Yy5qcyIsIndhaXRzdGFmZi1lYXJuaW5ncy93YWl0c3RhZmYtZWFybmluZ3MuY3RybC5qcyIsIndhaXRzdGFmZi1tZWFsL3dhaXRzdGFmZi1tZWFsLmN0cmwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFLQSxTQUFBLE9BQUEsYUFBQSxVQUFBLGNBQ0EsU0FBQSxVQUFBLE9BQ0EsS0FBQSxVQUFBLFlBQUEsV0FBQSxhQUFBLGlCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsSUFBQSxxQkFBQSxXQUNBLEVBQUEsY0FFQSxFQUFBLElBQUEsb0JBQUEsV0FDQSxFQUFBLEtBQUEsWUFFQSxFQUFBLElBQUEsb0JBQUEsV0FDQSxFQUFBLFdBQUEsSUFFQSxFQUFBLElBQUEsc0JBQUEsV0FDQSxFQUFBLFdBQ0EsRUFBQSxXQUFBLEdBQ0EsVUFJQSxRQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsS0FDQSxZQUFBLDZCQUVBLEtBQUEsYUFDQSxZQUFBLHNDQUVBLEtBQUEsZ0JBQ0EsWUFBQSw2Q0FFQSxLQUFBLFVBQ0EsU0FBQSxnQ0FFQSxXQUNBLFdBQUEsY0NyQ0EsUUFBQSxPQUFBLGFBRUEsVUFBQSxhQUFBLFdBQ0EsT0FDQSxRQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLHVCQUNBLEdBQUEsU0FBQSxRQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxJQUNBLEVBQUEsYUFBQSxTQUFBLEdBQ0EsV0FBQSxFQUFBLFFBQUEsSUFBQSxXQUVBLEdBQUEsYUFBQSxTQUFBLFNDVEEsUUFBQSxPQUFBLGFBQ0EsUUFBQSxlQUFBLFdBR0EsS0FBQSxVQUNBLFNBQUEsRUFDQSxVQUFBLEVBQ0EsT0FBQSxHQUlBLEtBQUEsWUFBQSxXQUNBLE1BQUEsTUFBQSxVQUlBLEtBQUEsZUFBQSxTQUFBLEdBQ0EsS0FBQSxTQUFBLFNBQUEsS0FBQSxTQUFBLFNBQUEsRUFBQSxVQUNBLEtBQUEsU0FBQSxZQUNBLEtBQUEsU0FBQSxPQUFBLEtBQUEsU0FBQSxTQUFBLEtBQUEsU0FBQSxXQUlBLEtBQUEsY0FBQSxXQUNBLEtBQUEsVUFDQSxTQUFBLEVBQ0EsVUFBQSxFQUNBLE9BQUEsTUMzQkEsUUFBQSxPQUFBLGFBQ0EsV0FBQSxzQkFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEdBRUEsRUFBQSxTQUFBLEVBQUEsY0FHQSxFQUFBLFNBQUEsV0FDQSxFQUFBLGdCQUNBLEVBQUEsU0FBQSxFQUFBLGtCQ1JBLFFBQUEsT0FBQSxhQUNBLFdBQUEsdUJBQUEsU0FBQSxlQUFBLFNBQUEsRUFBQSxHQUdBLEVBQUEsY0FBQSxFQUNBLEVBQUEsV0FBQSxFQUVBLEVBQUEsTUFDQSxlQUFBLEVBQ0EsVUFBQSxFQUNBLFlBQUEsR0FJQSxFQUFBLFNBQUEsV0FFQSxRQUFBLElBQUEsRUFBQSxTQUFBLFFBQ0EsRUFBQSxTQUFBLFFBQ0EsRUFBQSxLQUFBLGVBQUEsRUFBQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxLQUNBLEVBQUEsS0FBQSxVQUFBLEVBQUEsS0FBQSxnQkFBQSxFQUFBLEtBQUEsY0FBQSxLQUNBLEVBQUEsS0FBQSxZQUFBLEVBQUEsS0FBQSxlQUFBLEVBQUEsS0FBQSxVQUdBLEVBQUEsZUFBQSxFQUFBLE1BR0EsRUFBQSxLQUFBLFVBQUEsS0FDQSxFQUFBLEtBQUEsUUFBQSxLQUNBLEVBQUEsS0FBQSxjQUFBLE1BRUEsRUFBQSxhQUFBLGlDQUtBLEVBQUEsV0FBQSxXQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsY0FBQSxFQUVBLEVBQUEsS0FBQSxVQUFBLEtBQ0EsRUFBQSxLQUFBLFFBQUEsS0FDQSxFQUFBLEtBQUEsY0FBQSIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBXYWl0c3RhZmYgYXBwbGljYXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3dhaXRzdGFmZicsIFsnbmdSb3V0ZScsICduZ0FuaW1hdGUnXSlcbiAgLmNvbnN0YW50KCdWRVJTSU9OJywgJzEuMicpXG4gIC5ydW4oZnVuY3Rpb24oVkVSU0lPTiwgJGxvY2F0aW9uLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJHRlbXBsYXRlQ2FjaGUpe1xuICAgICRyb290U2NvcGUudmVyc2lvbiA9IFZFUlNJT047XG4gICAgJHJvb3RTY29wZS4kb24oJyR2aWV3Q29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgJHRlbXBsYXRlQ2FjaGUucmVtb3ZlQWxsKCk7XG4gICAgfSk7XG4gICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnL2Vycm9yJyk7XG4gICAgfSk7XG4gICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAkcm9vdFNjb3BlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSk7XG4gICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkcm9vdFNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSk7XG4gIH0pXG4gIC8vIENvbmZpZ3VyZSByb3V0ZXNcbiAgLmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlcil7XG4gICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHtcbiAgICAgIHRlbXBsYXRlVXJsIDogJy4vanMvd2FpdHN0YWZmL2hvbWUuaHRtbCdcbiAgICB9KVxuICAgIC53aGVuKCcvbmV3LW1lYWwnLCB7XG4gICAgICB0ZW1wbGF0ZVVybCA6ICcuL2pzL3dhaXRzdGFmZi1tZWFsL25ldy1tZWFsLmh0bWwnXG4gICAgfSlcbiAgICAud2hlbignL215LWVhcm5pbmdzJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnLi9qcy93YWl0c3RhZmYtZWFybmluZ3MvbXktZWFybmluZ3MuaHRtbCdcbiAgICB9KVxuICAgIC53aGVuKCcvZXJyb3InLCB7XG4gICAgICB0ZW1wbGF0ZSA6ICc8cD5FcnJvciBQYWdlIE5vdCBGb3VuZDwvcD4nXG4gICAgfSlcbiAgICAub3RoZXJ3aXNlKHtcbiAgICAgIHJlZGlyZWN0VG8gOiAnL2Vycm9yJ1xuICAgIH0pO1xuICB9KTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd3YWl0c3RhZmYnKVxuICAvLyBEaXJlY3RpdmUgdG8gdmFsaWRhdGUgZmxvYXRzIHNoYW1lbGVzc2x5IGNvcGllZCBmcm9tIHRoZSBBbnVnbGFySlMgZG9jdW1lbnRhdGlvblxuICAuZGlyZWN0aXZlKCdzbWFydEZsb2F0JywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gICAgICAgIHZhciBGTE9BVF9SRUdFWFAgPSAvXlxcLT9cXGQrKChcXC58XFwsKVxcZCspPyQvO1xuICAgICAgICBjdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgICAgaWYgKEZMT0FUX1JFR0VYUC50ZXN0KHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KCdmbG9hdCcsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmlld1ZhbHVlLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoJ2Zsb2F0JywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBXYWl0c3RhZmYgc2VydmljZSB0byBjYWxjdWxhdGUgZWFybmluZ3NcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3dhaXRzdGFmZicpXG4gIC5zZXJ2aWNlKCdXYWl0c3RhZmZTdmMnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBJbml0IGVhcm5pbmdzXG4gICAgdGhpcy5lYXJuaW5ncyA9IHtcbiAgICAgIHRpcFRvdGFsIDogMCxcbiAgICAgIG1lYWxDb3VudCA6IDAsXG4gICAgICBhdmdUaXAgOiAwXG4gICAgfTtcblxuICAgIC8vIFJldHJpZXZlIGVhcm5pbmdzXG4gICAgdGhpcy5nZXRFYXJuaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFybmluZ3M7XG4gICAgfTtcblxuICAgIC8vIFVwZGF0ZSBlYXJuaW5ncyB3aXRoIHRoZSB2YWx1ZXMgZnJvbSBtZWFsXG4gICAgdGhpcy51cGRhdGVFYXJuaW5ncyA9IGZ1bmN0aW9uKG1lYWwpIHtcbiAgICAgIHRoaXMuZWFybmluZ3MudGlwVG90YWwgPSB0aGlzLmVhcm5pbmdzLnRpcFRvdGFsICsgbWVhbC5jaGFyZ2VUaXA7XG4gICAgICB0aGlzLmVhcm5pbmdzLm1lYWxDb3VudCsrO1xuICAgICAgdGhpcy5lYXJuaW5ncy5hdmdUaXAgPSB0aGlzLmVhcm5pbmdzLnRpcFRvdGFsIC8gdGhpcy5lYXJuaW5ncy5tZWFsQ291bnQ7XG4gICAgfTtcblxuICAgIC8vIFJlc2V0IGVhcm5pbmdzXG4gICAgdGhpcy5yZXNldEVhcm5pbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVhcm5pbmdzID0ge1xuICAgICAgICB0aXBUb3RhbCA6IDAsXG4gICAgICAgIG1lYWxDb3VudCA6IDAsXG4gICAgICAgIGF2Z1RpcCA6IDBcbiAgICAgIH07XG4gICAgfTtcbiAgfSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEVhcm5pbmdzIGNvbnRyb2xsZXJcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3dhaXRzdGFmZicpXG4gIC5jb250cm9sbGVyKCdlYXJuaW5nc0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIFdhaXRzdGFmZlN2Yyl7XG4gICAgLy8gUmV0cmlldmUgZWFybmluZ3MgZnJvbSBzZXJ2aWNlXG4gICAgJHNjb3BlLmVhcm5pbmdzID0gV2FpdHN0YWZmU3ZjLmdldEVhcm5pbmdzKCk7XG5cbiAgICAvLyBSZXNldCBlYXJuaW5nc1xuICAgICRzY29wZS5yZXNldEFwcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgV2FpdHN0YWZmU3ZjLnJlc2V0RWFybmluZ3MoKTtcbiAgICAgICRzY29wZS5lYXJuaW5ncyA9IFdhaXRzdGFmZlN2Yy5nZXRFYXJuaW5ncygpO1xuICAgIH07XG4gIH0pOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBXYWl0IHN0YWZmIGNvbnRyb2xsZXIgdG8gaGFuZGxlIHRvIG1lYWwgZm9ybVxuICovXG5hbmd1bGFyLm1vZHVsZSgnd2FpdHN0YWZmJylcbiAgLmNvbnRyb2xsZXIoJ3dhaXRzdGFmZkNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIFdhaXRzdGFmZlN2Yyl7XG5cbiAgICAvL0luaXRpYWxpemUgc29tZSB2YWx1ZXNcbiAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gZmFsc2U7XG4gICAgJHNjb3BlLmZvcm1WYWxpZCA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLm1lYWwgPSB7XG4gICAgICBjaGFyZ2VTdWJ0b3RhbCA6IDAsXG4gICAgICBjaGFyZ2VUaXAgOiAwLFxuICAgICAgY2hhcmdlVG90YWwgOiAwXG4gICAgfTtcblxuICAgIC8vRm9ybSB2YWxpZGF0aW9uIGFuZCB2YWx1ZSBoYW5kbGluZ1xuICAgICRzY29wZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy9Gb3JtIGlzIHZhbGlkIHNvIHdlIGNhbGN1bGF0ZSBhbGwgdGhlIHZhbHVlcyBmb3IgdGhlIGN1c3RvbWVyIGNoYXJnZVxuICAgICAgY29uc29sZS5sb2coJHNjb3BlLm1lYWxGb3JtLiRlcnJvcik7XG4gICAgICBpZigkc2NvcGUubWVhbEZvcm0uJHZhbGlkKSB7XG4gICAgICAgICRzY29wZS5tZWFsLmNoYXJnZVN1YnRvdGFsID0gJHNjb3BlLm1lYWwuYmFzZXByaWNlICogKDEgKyAkc2NvcGUubWVhbC50YXhyYXRlIC8gMTAwKTtcbiAgICAgICAgJHNjb3BlLm1lYWwuY2hhcmdlVGlwID0gJHNjb3BlLm1lYWwuY2hhcmdlU3VidG90YWwgKiAoJHNjb3BlLm1lYWwudGlwcGVyY2VudGFnZSAvIDEwMCk7XG4gICAgICAgICRzY29wZS5tZWFsLmNoYXJnZVRvdGFsID0gJHNjb3BlLm1lYWwuY2hhcmdlU3VidG90YWwgKyAkc2NvcGUubWVhbC5jaGFyZ2VUaXA7XG5cbiAgICAgICAgLy8gVXBkYXRlIGVhcm5pbmdzIHZpYSBzZXJ2aWNlXG4gICAgICAgIFdhaXRzdGFmZlN2Yy51cGRhdGVFYXJuaW5ncygkc2NvcGUubWVhbCk7XG5cbiAgICAgICAgLy8gUmVzZXQgdGhlIG1lYWwgZm9ybVxuICAgICAgICAkc2NvcGUubWVhbC5iYXNlcHJpY2UgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWVhbC50YXhyYXRlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm1lYWwudGlwcGVyY2VudGFnZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gJ1BsZWFzZSBmaWxsIGluIGFsbCB0aGUgZmllbGRzJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9NZWFsIGZvcm0gcmVzZXRcbiAgICAkc2NvcGUuY2FuY2VsTWVhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmZvcm1WYWxpZCA9IGZhbHNlO1xuICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgLy8gUmVzZXQgdGhlIG1lYWwgZm9ybVxuICAgICAgJHNjb3BlLm1lYWwuYmFzZXByaWNlID0gbnVsbDtcbiAgICAgICRzY29wZS5tZWFsLnRheHJhdGUgPSBudWxsO1xuICAgICAgJHNjb3BlLm1lYWwudGlwcGVyY2VudGFnZSA9IG51bGw7XG4gICAgfTtcbiAgfSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9